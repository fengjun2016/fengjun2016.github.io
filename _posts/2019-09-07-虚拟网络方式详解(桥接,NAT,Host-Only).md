---
layout:     post
title:      虚拟机的网络方式详解
subtitle:   桥接、nat、Host-only
date:       2019-07-10
author:     fengfeng
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - Docker
---

## 前言

`虚拟机`就是利用真实机的环境用软件的方式模拟成真实机系统的一个软件，而现在虚拟机软件都内置了几种虚拟系统的上网方式，一般有三种, 分别是`桥接(Bridge)`、`nat(地址转换)`、`Host-only(单独户网络)`， 那么这三种虚拟机的联网方式都分别是什么工作原理呢?

> 在各家各户家庭用的网络常见的就是从电信、联通、长城这些isp网络服务提供商接入的光纤，也就是常见的ADSL拨号上网，那么这种方式最恼火的就是您的一条ADSL线路只能提供给一台电脑上网,如果您想要多台电脑上网的话，我们就需要购买一个路由器，搭建一个局域网，其结构图如下类似：




## `nat(地址转换)`

### 什么是nat?

nat就是指`网络地址转换(NAT,NetworkAddress Translation)`, 其意思就是讲一个ip地址分成几个ip的方法，广泛用于`广域网`, 那我们的虚拟机使用`nat`是什么意思呢?怎么实现呢?下面来看一张结构图:



上面就是我们生活中最常见的上网方式，以及nat的图示, 上图中pc2、pc3为我们的真机，pc4、pc5为分别是我们pc2、pc3上创建的虚拟机,如果给虚拟机使用了`nat`的网络通信方式的话，那么虚拟机将使用真机上的ip地址，但是却不跟真机的ip地址一致，而是真机将他们的地址进行了`nat`转换,比如说，pc2 上ip 地址为192.168.1.88 通过nat以后假设地址为 10.2.15.2~255，那么建立在pc2上的虚拟机的pc4的ip地址就会在10.2.15.2---10.2.15.255 选择一个作为自己的ip地址。

此时我们的真机和虚拟机是可以相互通信的。