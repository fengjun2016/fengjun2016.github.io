---
layout:     post
title:      Go代码01
subtitle:   初始化顺序图解
date:       2019-04-05
author:     fengfeng
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - Golang
---

## 前言

* Go程序的初始化和执行总是从`main.main()`函数开始的。
* 但是如果`main包`里面导入了其他的包，则会按照顺序将它们包含到`main包`(这里的导入顺序依赖具体实现,一般可能会以文件名或包路径名的字符串顺序导入)。
* 如果某个包被`多次导入`，那么`在执行的时候`只会`导入一次`。当一个包被导入时，如果它还导入了其他的包，则先将其他的包包含进来，然后创建和初始化这个包的常量和变量。
* 再调用包里面的`init`函数，如果`一个包有多个init()函数`，实现可能的是以文件名的殊勋调用，那么同一个文件内的多个init()函数是以`出现的顺序`依次调用的(init()不是普通函数，`可以定义多个`，`但是不能够被其他函数调用``)。
* 最终，在`main包`的所有包常量、包变量被创建和初始化，并且只有在`init()函数`被执行后，才会进入`main.main()`函数，程序才会开始正常执行。

### 如下示意图:

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1gimuhw7ymej31110e376b.jpg)